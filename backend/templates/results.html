{% extends "base.html" %}
{% block content %}
<h1>Search Results</h1>
{% if results %}
    <ul>
    {% for result in results %}
        <li>
            <strong>{{ result.id }}: <i>{{ result.title }}</i></strong> ({{ result.year }})
            <br>
            <em>Type:</em> {{ result.type }} | <em>Actors:</em> {{ ", ".join(result.actors) }}
            <br>
            <a href="{{ url_for('view_document', doc_id=result.id) }}">View Document</a>
        </li>
    {% endfor %}
    </ul>

    <div class="pageContainer">
        <p>
            {% if page > 1 %}
            <a href="{{ modify_args_on_page('results', {'page': page-1}) }}">< Prev.</a>
            {% endif %}
            Page {{page}} of {{num_pages}}
            {% if page < num_pages %}
            <a href="{{ modify_args_on_page('results', {'page': page+1}) }}">Next ></a>
            {% endif %}
        </p>
    </div>
{% else %}
    <p>No results found. Please try adjusting your search criteria.</p>
    <a href="{{ url_for('home') }}">Back to Home</a>
{% endif %}
{% endblock %}
